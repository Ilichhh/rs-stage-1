(()=>{"use strict";var e={61:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap);"]),i.push([e.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0)}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}.button{display:inline-block;padding:5px 10px;border-left:2px solid #ffe459;border-top:2px solid #ffe459;border-right:2px solid #11052c;border-bottom:2px solid #11052c;background-color:#f43b86;color:#ffe459;text-decoration:none;cursor:pointer}.button_big{height:50px}.button:disabled{cursor:default;color:#fff;background-color:#bbb;border-left:2px solid #fff;border-top:2px solid #fff}.button:hover{background-color:#ffe459;color:#f43b86}.button:hover:disabled{color:#fff;background-color:#bbb}body{background-color:#11052c}#main{min-height:calc(100vh - 55px);display:flex;flex-direction:column;justify-content:space-between}.container{width:calc(100vw - 40px);max-width:1200px;margin:0 auto;color:#ffe459;font-family:"Press Start 2P",cursive}.container_main{padding-top:25px}.header{padding:10px 0 10px;background-color:#3d087b}.header__logo{margin:0;padding-top:5px;font-size:22px}.header__nav{width:280px;display:flex;justify-content:space-between}.container_header{display:flex;justify-content:space-between}.container_footer{height:50px;display:flex;justify-content:space-between;align-items:center}.social__link{color:#3d087b}.social__link:hover{color:#ffe459}.car-controller{border-bottom:2px dashed #ffe459;margin-bottom:25px}.car-controller__edit-btns-wrapper{margin-bottom:10px}.car-controller__race-btns-wrapper{display:flex;flex-direction:column;justify-content:space-between;height:70px;margin-right:20px;margin-bottom:5px}.car-controller__edit-btn,.car-controller__delete-btn{margin-right:10px}.car-controller__race-track{position:relative;display:flex;justify-content:space-between;align-items:flex-end}.car-controller__finish{width:140px;height:75px}.car-controller__finish-flag{display:inline-block;width:5px;height:75px;background-color:#fff}.car{position:absolute;left:75px}.management{height:120px;display:flex;flex-direction:column;justify-content:space-between;margin-bottom:25px}.management__create-form,.management__update-form{display:flex;justify-content:space-between;width:400px;padding:10px;background-color:#3d087b}.management__create-input,.management__update-input{width:200px;height:25px}.management__create-input_warning::placeholder,.management__update-input_warning::placeholder{color:red}.management__create-color,.management__update-color{height:30px}.control-panel{width:460px;height:40px;display:flex;justify-content:space-between;margin-bottom:25px}.pages-controls{display:flex;justify-content:space-between;align-items:center;width:220px;margin:0 auto}.pages-controls_winners{margin-left:200px;margin-top:25px}.winner-message{color:#fff;background-color:#f43b86;position:absolute;top:25vh;text-align:center;z-index:1;box-shadow:12px 12px 2px 1px #3d087b}.winners__header{height:35px}.winners__header-number{width:35px}.winners__header-car-img{width:135px}.winners__header-name{width:250px}.winners__header-wins{width:85px}.winners__header-wins,.winners__header-best-time{text-decoration:underline;cursor:pointer}.winners__header-wins:hover,.winners__header-best-time:hover{color:#f43b86;background-color:#ffe459}',""]);const a=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(i[s]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},868:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(379),i=n.n(r),a=n(61);i()(a.Z,{insert:"head",singleton:!1});const s=a.Z.locals||{}},379:(e,t,n)=>{var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function o(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],c=t.base?o[0]+t.base:o[0],d=n[c]||0,l="".concat(c," ").concat(d);n[c]=d+1;var h=s(l),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(a[h].references++,a[h].updater(u)):a.push({identifier:l,updater:g(u,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,l=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var a=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function u(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var a=m++;n=p||(p=c(t)),r=h.bind(null,n,a,!1),i=h.bind(null,n,a,!0)}else n=c(t),r=u.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var c=o(e,t),d=0;d<n.length;d++){var l=s(n[d]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=c}}}},724:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.baseLink=e}getCars(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${this.baseLink}/garage?_page=${e}&_limit=${t}`);return{items:yield n.json(),count:+n.headers.get("X-Total-Count")}}))}getCar(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.baseLink}/garage/${e}`);return yield t.json()}))}createCar(e,t){return n(this,void 0,void 0,(function*(){const n=JSON.stringify({name:e,color:t});yield fetch(`${this.baseLink}/garage`,{method:"POST",body:n,headers:{"Content-Type":"application/json"}})}))}updateCar(e,t,r){return n(this,void 0,void 0,(function*(){const n=JSON.stringify({name:t,color:r});yield fetch(`${this.baseLink}/garage/${e}`,{method:"PUT",body:n,headers:{"Content-Type":"application/json"}})}))}deleteCar(e){return n(this,void 0,void 0,(function*(){yield fetch(`${this.baseLink}/garage/${e}`,{method:"DELETE"})}))}engineStart(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.baseLink}/engine?id=${e}&status=started`,{method:"PATCH"});return yield t.json()}))}engineStop(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.baseLink}/engine?id=${e}&status=stopped`,{method:"PATCH"});return yield t.json()}))}drive(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.baseLink}/engine?id=${e}&status=drive`,{method:"PATCH"});let n;return 200===t.status?(n=yield t.json(),n):{success:!1}}))}getWinner(e){return n(this,void 0,void 0,(function*(){try{const t=yield fetch(`${this.baseLink}/winner/${e}`);return yield t.json()}catch(e){return null}}))}getWinners(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${this.baseLink}/winners?_page=${e}&_limit=${t}`);return{items:yield n.json(),count:+n.headers.get("X-Total-Count")}}))}createWinner(e){return n(this,void 0,void 0,(function*(){const t=JSON.stringify(e);yield fetch(`${this.baseLink}/winners`,{method:"POST",body:t,headers:{"Content-Type":"application/json"}})}))}updateWinner(e){return n(this,void 0,void 0,(function*(){const t=JSON.stringify({wins:e.wins,time:e.time});yield fetch(`${this.baseLink}/winners/${e.id}`,{method:"PUT",body:t,headers:{"Content-Type":"application/json"}})}))}deleteWinner(e){return n(this,void 0,void 0,(function*(){yield fetch(`${this.baseLink}/winners/${e}`,{method:"DELETE"})}))}}},962:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(535)),s=i(n(654)),o=i(n(977)),c=i(n(789)),d=i(n(724)),l=i(n(135)),h=n(604);class u{renderNewPage(e,t,n){const r=document.getElementById(u.defaultPageId);let i,a;null==r||r.remove(),e!==h.PageIds.GaragePage&&e?e===h.PageIds.WinnersPage?(i=this.winners,a=i.render(n,this.garage.currentPage,10)):(i=new c.default(e,h.ErrorTypes.Error_404),a=i.render()):(i=this.garage,a=i.render(t,this.garage.currentPage,7)),i&&(a.id=u.defaultPageId,u.body.append(a))}getFullWinnersData(){return r(this,void 0,void 0,(function*(){const e=yield this.api.getWinners(this.winners.currentPage,10),t={items:[],count:e.count},n=[];e.items.forEach((e=>{n.push(this.api.getCar(e.id))}));const r=yield Promise.all(n);return e.items.forEach(((e,n)=>{t.items.push({id:e.id,wins:e.wins,time:e.time,name:r[n].name,color:r[n].color})})),t}))}enableRouteChange(){window.addEventListener("hashchange",(()=>r(this,void 0,void 0,(function*(){if(!this.raceMode){const e=window.location.hash.slice(1),t=yield this.api.getCars(this.garage.currentPage,7),n=yield this.getFullWinnersData();this.renderNewPage(e,t,n)}}))))}renderStartPage(){return r(this,void 0,void 0,(function*(){const e=window.location.hash.slice(1),t=yield this.api.getCars(this.garage.currentPage,7),n=yield this.getFullWinnersData();this.renderNewPage(e,t,n)}))}generateRandomCars(){return r(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<100;t+=1){const t=l.default.generateName(),n=l.default.generateColor();e.push(this.api.createCar(t,n))}yield Promise.all(e),this.redrawRaceSection()}))}createCar(e){return r(this,void 0,void 0,(function*(){if(e.preventDefault(),this.garage.createCarName.value.length)yield this.api.createCar(this.garage.createCarName.value,this.garage.creteCarColor.value),this.garage.createCarName.value="",this.redrawRaceSection();else{const e=setInterval((()=>{this.garage.createCarName.classList.toggle("management__create-input_warning")}),200);setTimeout((()=>clearInterval(e)),1600)}}))}updateCar(e){return r(this,void 0,void 0,(function*(){if(e.preventDefault(),this.garage.updateCarName.value.length)yield this.api.updateCar(this.carId,this.garage.updateCarName.value,this.garage.updateCarColor.value),this.garage.updateCarName.value="",this.renderStartPage(),this.garage.createCarName.disabled=!1,this.garage.createCarButton.disabled=!1,this.garage.updateCarName.disabled=!0,this.garage.updateCarButton.disabled=!0;else{const e=setInterval((()=>{this.garage.updateCarName.classList.toggle("management__update-input_warning")}),200);setTimeout((()=>clearInterval(e)),1600)}}))}redrawRaceSection(){return r(this,void 0,void 0,(function*(){const e=yield this.api.getCars(this.garage.currentPage,7);this.garage.renderRaceSection(e,this.garage.currentPage,7)}))}redrawWinnersSection(){return r(this,void 0,void 0,(function*(){const e=yield this.getFullWinnersData();this.winners.render(e,this.winners.currentPage,10)}))}constructor(){this.header=new o.default("header","header"),this.api=new d.default("http://localhost:3000"),this.garage=new a.default("garage"),this.winners=new s.default("winners"),this.carId=0,this.raceMode=!1}start(){return r(this,void 0,void 0,(function*(){u.body.append(this.header.render()),yield this.renderStartPage(),this.enableRouteChange(),this.winners.nextPageBtn.addEventListener("click",(()=>{this.winners.currentPage+=1,this.redrawWinnersSection()})),this.winners.prevPageBtn.addEventListener("click",(()=>{this.winners.currentPage-=1,this.redrawWinnersSection()})),this.winners.sortByTimeBtn.addEventListener("click",(()=>{"time-desc"===this.winners.sortingFilter?this.winners.sortingFilter="time-asc":this.winners.sortingFilter="time-desc",this.redrawWinnersSection()})),this.winners.sortByWinsBtn.addEventListener("click",(()=>{"wins-desc"===this.winners.sortingFilter?this.winners.sortingFilter="wins-asc":this.winners.sortingFilter="wins-desc",this.redrawWinnersSection()})),this.garage.generateCarsBtn.addEventListener("click",(()=>this.generateRandomCars())),this.garage.createCarForm.addEventListener("submit",(e=>this.createCar(e))),this.garage.updateCarForm.addEventListener("submit",(e=>this.updateCar(e))),this.garage.nextPageBtn.addEventListener("click",(()=>{this.raceMode||(this.garage.currentPage+=1,this.redrawRaceSection())})),this.garage.prevPageBtn.addEventListener("click",(()=>{this.raceMode||(this.garage.currentPage-=1,this.redrawRaceSection())})),this.garage.raceButton.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){this.garage.raceButton.disabled=!0,this.raceMode=!0;const e=[];[...document.querySelectorAll(".car-controller__start-btn")].forEach((t=>{e.push(this.driveCar(t))}));const t=(yield Promise.all(e)).filter((e=>e.finished)).sort(((e,t)=>e.time-t.time))[0],n={id:t.id,wins:1,time:t.time/1e3},r=yield this.api.getWinners();if(r.items.map((e=>e.id)).includes(n.id)){const e=r.items.filter((e=>e.id===n.id))[0],t=e.wins+1;e.time<n.time&&(n.time=e.time),n.wins=t,yield this.api.updateWinner(n)}else yield this.api.createWinner(n);this.garage.resetButton.disabled=!1,this.raceMode=!1})))),this.garage.resetButton.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){const e=[];[...document.querySelectorAll(".car-controller")].forEach((t=>{const n=t.id;e.push(this.api.engineStop(+n))})),yield Promise.all(e),this.redrawRaceSection(),this.garage.raceButton.disabled=!1,this.garage.resetButton.disabled=!0,this.garage.winnerMessage.innerText=""})))),this.garage.main.addEventListener("click",(e=>r(this,void 0,void 0,(function*(){var t,n,r;const i=e.target;if(i.classList.contains("car-controller__delete-btn")){const e=null===(t=i.closest(".car-controller"))||void 0===t?void 0:t.id;yield this.api.deleteCar(+e),yield this.api.deleteWinner(+e);let n=yield this.api.getCars(this.garage.currentPage,7);n.items=n.items.filter((t=>t.id!==+e)),0===n.items.length&&1!==this.garage.currentPage&&(this.garage.currentPage-=1,n=yield this.api.getCars(this.garage.currentPage,7)),this.garage.renderRaceSection(n,this.garage.currentPage,7)}else if(i.classList.contains("car-controller__edit-btn")){const e=null===(n=i.closest(".car-controller"))||void 0===n?void 0:n.id;this.carId=+e;const t=yield this.api.getCar(+e);this.garage.updateCarName.disabled=!1,this.garage.createCarName.disabled=!0,this.garage.updateCarName.placeholder="enter name",this.garage.createCarName.placeholder="",this.garage.updateCarName.value=t.name,this.garage.updateCarColor.value=t.color,this.garage.updateCarButton.disabled=!1,this.garage.createCarButton.disabled=!0}else if(i.classList.contains("car-controller__start-btn"))yield this.driveCar(i);else if(i.classList.contains("car-controller__stop-btn")){const e=null===(r=i.closest(".car-controller"))||void 0===r?void 0:r.id;yield this.api.engineStop(+e)}}))))}))}driveCar(e){var t,n,i,a;return r(this,void 0,void 0,(function*(){const s=null===(t=e.parentNode)||void 0===t?void 0:t.parentNode,o=s.children[1],c=null===(n=e.parentNode)||void 0===n?void 0:n.children[1],d=s.clientWidth-200,l=null===(i=e.closest(".car-controller"))||void 0===i?void 0:i.id;e.disabled=!0;const h=yield this.api.engineStart(+l),u=Math.round(h.distance/h.velocity),p=null===(a=s.parentNode)||void 0===a?void 0:a.children[0].children[2].textContent;c.disabled=!1;let m=0;const g=d/(u/1e3*60);!function e(){m+=g,o.style.transform=`translateX(${m}px)`,m<d&&h.velocity&&requestAnimationFrame(e)}(),c.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){c.disabled=!0,yield this.api.engineStop(+l),m=0,o.style.transform="translateX(0px)",h.velocity=0,e.disabled=!1}))));const f=yield this.api.drive(+l);if(f.success&&h.velocity&&!this.garage.winnerMessage.innerText.length&&this.raceMode){const e=u/1e3;this.garage.winnerMessage.innerText=`${p} won with a result of ${e}s`,setTimeout((()=>{this.garage.winnerMessage.innerText=""}),1e4)}return f.success||(h.velocity=0),{id:+l,time:u,finished:f.success}}))}}u.body=document.body,u.defaultPageId="main",t.default=u},781:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(587)),a=r(n(881));class s extends i.default{constructor(e,t,n,r,i){super(e,t),this.id=i,this.car=new a.default("div","car",n),this.carName=this.createElement("span","car-controller__name"),this.carName.innerText=r,this.editButton=this.createElement("button","car-controller__edit-btn button"),this.editButton.innerText="EDIT",this.deleteButton=this.createElement("button","car-controller__delete-btn button"),this.deleteButton.innerText="DELETE",this.startButton=this.createElement("button","car-controller__start-btn button"),this.startButton.innerText="GO",this.stoptButton=this.createElement("button","car-controller__stop-btn button"),this.stoptButton.innerText="BR"}render(){const e=this.createElement("div","car-controller__edit-btns-wrapper");e.append(this.editButton),e.append(this.deleteButton),e.append(this.carName);const t=this.createElement("div","car-controller__race-track"),n=this.createElement("div","car-controller__race-btns-wrapper");n.append(this.startButton),this.stoptButton.disabled=!0,n.append(this.stoptButton),t.append(n),t.append(this.car.render());const r=this.createElement("div","car-controller__finish"),i=this.createElement("span","car-controller__finish-flag");return r.append(i),t.append(r),this.container.id=this.id.toString(),this.container.append(e),this.container.append(t),this.container}}t.default=s},881:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(587));class a extends i.default{constructor(e,t,n){super(e,t),this.color=n}render(){return this.container.innerHTML=`\n      <?xml version="1.0" encoding="UTF-8" standalone="no"?>\n      <svg id="svg2" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="60" width="105" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 494.51492 279.4622">\n        <g id="layer1" transform="translate(2133.9 381.76)">\n          <g id="g4142">\n            <path id="path1310" d="m-1918.8-360.12 107.34-0.16138 0.2152 21.371 21.317 0.16125-0.026 42.796-128.76 0.08-0.08-64.247zm-193.63-0.1345 171.83 0.0275 0.08 64.247-171.77 0.1075-0.1344-64.382z" fill="#0ff"/>\n            <path id="path1312" d="m-1811.5-360.28 21.532 0.0538v21.478l-21.317-0.16125-0.2152-21.371zm-300.91-21.478 300.94 0.0275-0.026 21.452-107.34 0.16138 0.08 64.247 128.76-0.08 0.026-42.796 21.505 0.0263 0.1075 42.876 107.37 0.1075 0.242 21.371 21.317 0.215-0.026 85.833h-42.876l-0.2151-21.263-21.156-0.37638-0.3764-21.236-85.645 0.0538-0.3764 21.183-21.183 0.37638-0.1614 21.263-150.46-0.0262-0.215-21.236-21.156-0.37637-0.3763-21.236-85.645 0.0538-0.3763 21.183-21.183 0.37637-0.1612 21.263-42.93-0.0262 0.08-171.91h21.398l0.1344 64.382 171.77-0.1075-0.08-64.247-171.83-0.0275 0.054-21.505z" fill="${this.color}"/>\n            <path id="path1450" d="m-1768.3-188.21 42.93-0.0275 0.028 42.93-42.93 0.0275-0.026-42.93zm-279.57 0 42.93-0.0275 0.026 42.93-42.93 0.0275-0.026-42.93zm258.23-42.93 85.645-0.0538 0.3763 21.236 21.156 0.37637 0.2151 21.263-0.1613 64.489-21.317 0.215-0.2151 21.317-85.806-0.0263-0.215-21.344-21.317-0.215-0.081-64.436 0.1613-21.263 21.183-0.37637 0.3763-21.183m21.398 21.425-0.054 21.505h-21.452l-0.026 42.876 21.505 0.0537v21.452l42.876 0.0275 0.054-21.505h21.452l0.026-42.876-21.505-0.0538v-21.452l-42.876-0.0275zm-300.97-21.425 85.645-0.0538 0.3764 21.236 21.156 0.37637 0.215 21.236-0.1613 64.516-21.317 0.215-0.215 21.317-85.806-0.0263-0.2151-21.344-21.317-0.215-0.081-64.436 0.1613-21.263 21.183-0.37637 0.3764-21.183m21.398 21.425-0.054 21.505h-21.452l-0.026 42.876 21.505 0.0537v21.452l42.876 0.0275 0.054-21.505h21.452l0.027-42.876-21.505-0.0538v-21.452l-42.876-0.0275z"/>\n            <path id="path1480" d="m-1768.3-145.28 42.93-0.0275-0.054 21.505-42.876-0.0275v-21.452zm-279.57 0 42.93-0.0275-0.054 21.505-42.876-0.0275v-21.452zm322.47-42.957 21.505 0.0538-0.026 42.876h-21.452l-0.028-42.93zm-64.382 0.0269h21.452l0.026 42.93-21.505-0.0537 0.026-42.876zm-215.19-0.0269 21.505 0.0538-0.027 42.876h-21.452l-0.026-42.93zm-64.382 0.0269h21.452l0.026 42.93-21.505-0.0537 0.026-42.876zm301.08-21.505 42.876 0.0275v21.451l-42.93 0.0275 0.054-21.505zm-279.57 0 42.876 0.0275v21.451l-42.93 0.0275 0.054-21.505z" fill="#c0c0c0"/>\n          </g>\n        </g>\n      </svg>\n    `,this.container}}t.default=a},0:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static render(){const e=document.createElement("footer");return e.classList.add("footer"),e.innerHTML='\n      <div class="container container_footer">\n        <div class="social">\n          <a class="social__link" href="https://rs.school/js/" target="_blank">\n            rs-school\n          </a>\n        </div>\n        <div class="social">\n          <a class="social__link" href="https://github.com/Ilichhh" target="_blank">\n            Ilichhh\n          </a>\n        </div>\n      </div>\n    ',e}}},977:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(587)),a=n(604);class s extends i.default{constructor(e,t){super(e,t)}renderPageButtons(){const e=document.createElement("div");e.className="container container_header",this.container.append(e);const t=document.createElement("h1");t.className="header__logo",t.innerText="Async Race",e.append(t);const n=document.createElement("nav");n.className="header__nav";const r=document.createElement("a");r.className="button",r.href=`#${a.PageIds.GaragePage}`,r.innerText="Garage";const i=document.createElement("a");i.className="button",i.href=`#${a.PageIds.WinnersPage}`,i.innerText="Winners",n.append(r),n.append(i),e.append(n)}render(){return this.renderPageButtons(),this.container}}t.default=s},607:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(962));n(868),(new i.default).start()},789:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(175));class a extends i.default{constructor(e,t){super(e),this.errorType=t}render(){const e=document.createElement("div");e.className="container",this.main.append(e);const t=this.createHeaderTitle(a.TextObject[this.errorType]);return e.append(t),this.main}}a.TextObject={404:"Error! The page was not found"},t.default=a},535:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(175)),a=r(n(781)),s=r(n(0));class o extends i.default{constructor(e){super(e),this.createCarForm=this.createElement("form","management__create-form"),this.createCarName=this.createElement("input","management__create-input"),this.creteCarColor=this.createElement("input","management__create-color"),this.createCarButton=this.createElement("button","management__create-btn button"),this.createCarName.disabled=!1,this.createCarButton.disabled=!1,this.updateCarForm=this.createElement("form","management__update-form"),this.updateCarName=this.createElement("input","management__update-input"),this.updateCarColor=this.createElement("input","management__update-color"),this.updateCarButton=this.createElement("button","management__update-btn button"),this.updateCarName.disabled=!0,this.updateCarButton.disabled=!0,this.currentPage=1,this.raceSection=this.createElement("div","race-container"),this.raceButton=this.createElement("button","control-panel__race-btn button"),this.resetButton=this.createElement("button","control-panel__reset-btn button"),this.generateCarsBtn=this.createElement("button","control-panel__generate-cars-btn button"),this.prevPageBtn=this.createElement("button","pages-controls__prev-btn button"),this.nextPageBtn=this.createElement("button","pages-controls__next-btn button"),this.winnerMessage=this.createElement("h2","winner-message")}createManagementSection(){const e=this.createElement("div","management");return e.append(this.createCarForm),this.setMultipleAttributes(this.createCarName,o.AttributesObject.createCarInput),this.createCarForm.append(this.createCarName),this.setMultipleAttributes(this.creteCarColor,o.AttributesObject.createCarColor),this.createCarForm.append(this.creteCarColor),this.createCarButton.setAttribute("type","submit"),this.createCarButton.innerText="CREATE",this.createCarForm.append(this.createCarButton),e.append(this.updateCarForm),this.setMultipleAttributes(this.updateCarName,o.AttributesObject.updateCarInput),this.updateCarForm.append(this.updateCarName),this.setMultipleAttributes(this.updateCarColor,o.AttributesObject.updateCarColor),this.updateCarForm.append(this.updateCarColor),this.updateCarButton.setAttribute("type","submit"),this.updateCarButton.innerText="UPDATE",this.updateCarForm.append(this.updateCarButton),e}createControlPanel(){const e=this.createElement("div","control-panel");return this.raceButton.innerText="RACE",this.resetButton.innerText="RESET",this.resetButton.disabled=!0,this.generateCarsBtn.innerText="GENERATE CARS",e.append(this.raceButton),e.append(this.resetButton),e.append(this.generateCarsBtn),e}renderRaceSection(e,t,n){this.raceSection.innerHTML="",this.raceButton.disabled=!1,this.resetButton.disabled=!0;const r=this.createHeaderTitle(`Garage (${e.count})`);this.raceSection.append(r),e.items.forEach((e=>{const t=new a.default("div","car-controller",e.color,e.name,e.id);this.raceSection.append(t.render())}));const i=this.createElement("div","pages-controls");this.prevPageBtn.innerText="PREV",this.prevPageBtn.disabled=1===t,i.append(this.prevPageBtn);const s=this.createElement("span","pages-controls__current-index");s.innerText=t.toString(),i.append(s),this.nextPageBtn.innerText="NEXT";const o=Math.ceil(e.count/n);this.nextPageBtn.disabled=t===o||o<2,i.append(this.nextPageBtn),this.raceSection.append(i)}render(e,t,n){const r=document.createElement("div");r.className="container container_main",this.main.innerHTML="",this.main.append(r),this.winnerMessage.innerText="",r.append(this.winnerMessage);const i=this.createManagementSection();r.append(i);const a=this.createControlPanel();return r.append(a),this.renderRaceSection(e,t,n),r.append(this.raceSection),this.main.append(s.default.render()),this.main}}o.AttributesObject={createCarInput:{type:"text",id:"create-name",name:"car-name",placeholder:"enter name"},createCarColor:{type:"color",id:"create-color",name:"car-color"},updateCarInput:{type:"text",id:"update-name",name:"car-name",placeholder:""},updateCarColor:{type:"color",id:"update-color",name:"car-color"}},t.default=o},654:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(175)),a=r(n(0));class s extends i.default{constructor(e){super(e),this.currentPage=1,this.sortingFilter="time-desc",this.prevPageBtn=this.createElement("button","pages-controls__prev-btn button"),this.nextPageBtn=this.createElement("button","pages-controls__next-btn button"),this.sortByWinsBtn=this.createElement("td","winners__header-wins"),this.sortByTimeBtn=this.createElement("td","winners__header-best-time")}render(e,t,n){this.main.innerHTML="";const r=document.createElement("div");r.className="container",this.main.append(r);const i=this.createHeaderTitle(`Winners (${e.count})`);r.append(i);const s=this.createElement("div","table-wrapper");r.append(s);const o=this.createElement("table","winners");s.append(o);const c=this.createElement("tr","winners__header"),d=this.createElement("td","winners__header-number");d.textContent="№",c.append(d);const l=this.createElement("td","winners__header-car-img");l.textContent="Car",c.append(l);const h=this.createElement("td","winners__header-name");h.textContent="Name",c.append(h),this.sortByWinsBtn.textContent="Wins",c.append(this.sortByWinsBtn),this.sortByTimeBtn.textContent="Time",c.append(this.sortByTimeBtn),o.append(c);const u=this.createElement("tbody","winners__body");o.append(u),this.sortWinners(e.items,this.sortingFilter).forEach(((e,t)=>{const n=this.createElement("tr","winners__data");u.append(n);const r=this.createElement("td","winners__number");r.textContent=(t+1+(10*this.currentPage-10)).toString();const i=this.createElement("td","winners__car-img");i.innerHTML=`\n        <?xml version="1.0" encoding="UTF-8" standalone="no"?>\n        <svg id="svg2" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="60" width="105" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 494.51492 279.4622">\n          <g id="layer1" transform="translate(2133.9 381.76)">\n            <g id="g4142">\n              <path id="path1310" d="m-1918.8-360.12 107.34-0.16138 0.2152 21.371 21.317 0.16125-0.026 42.796-128.76 0.08-0.08-64.247zm-193.63-0.1345 171.83 0.0275 0.08 64.247-171.77 0.1075-0.1344-64.382z" fill="#0ff"/>\n              <path id="path1312" d="m-1811.5-360.28 21.532 0.0538v21.478l-21.317-0.16125-0.2152-21.371zm-300.91-21.478 300.94 0.0275-0.026 21.452-107.34 0.16138 0.08 64.247 128.76-0.08 0.026-42.796 21.505 0.0263 0.1075 42.876 107.37 0.1075 0.242 21.371 21.317 0.215-0.026 85.833h-42.876l-0.2151-21.263-21.156-0.37638-0.3764-21.236-85.645 0.0538-0.3764 21.183-21.183 0.37638-0.1614 21.263-150.46-0.0262-0.215-21.236-21.156-0.37637-0.3763-21.236-85.645 0.0538-0.3763 21.183-21.183 0.37637-0.1612 21.263-42.93-0.0262 0.08-171.91h21.398l0.1344 64.382 171.77-0.1075-0.08-64.247-171.83-0.0275 0.054-21.505z" fill="${e.color}"/>\n              <path id="path1450" d="m-1768.3-188.21 42.93-0.0275 0.028 42.93-42.93 0.0275-0.026-42.93zm-279.57 0 42.93-0.0275 0.026 42.93-42.93 0.0275-0.026-42.93zm258.23-42.93 85.645-0.0538 0.3763 21.236 21.156 0.37637 0.2151 21.263-0.1613 64.489-21.317 0.215-0.2151 21.317-85.806-0.0263-0.215-21.344-21.317-0.215-0.081-64.436 0.1613-21.263 21.183-0.37637 0.3763-21.183m21.398 21.425-0.054 21.505h-21.452l-0.026 42.876 21.505 0.0537v21.452l42.876 0.0275 0.054-21.505h21.452l0.026-42.876-21.505-0.0538v-21.452l-42.876-0.0275zm-300.97-21.425 85.645-0.0538 0.3764 21.236 21.156 0.37637 0.215 21.236-0.1613 64.516-21.317 0.215-0.215 21.317-85.806-0.0263-0.2151-21.344-21.317-0.215-0.081-64.436 0.1613-21.263 21.183-0.37637 0.3764-21.183m21.398 21.425-0.054 21.505h-21.452l-0.026 42.876 21.505 0.0537v21.452l42.876 0.0275 0.054-21.505h21.452l0.027-42.876-21.505-0.0538v-21.452l-42.876-0.0275z"/>\n              <path id="path1480" d="m-1768.3-145.28 42.93-0.0275-0.054 21.505-42.876-0.0275v-21.452zm-279.57 0 42.93-0.0275-0.054 21.505-42.876-0.0275v-21.452zm322.47-42.957 21.505 0.0538-0.026 42.876h-21.452l-0.028-42.93zm-64.382 0.0269h21.452l0.026 42.93-21.505-0.0537 0.026-42.876zm-215.19-0.0269 21.505 0.0538-0.027 42.876h-21.452l-0.026-42.93zm-64.382 0.0269h21.452l0.026 42.93-21.505-0.0537 0.026-42.876zm301.08-21.505 42.876 0.0275v21.451l-42.93 0.0275 0.054-21.505zm-279.57 0 42.876 0.0275v21.451l-42.93 0.0275 0.054-21.505z" fill="#c0c0c0"/>\n            </g>\n          </g>\n        </svg>\n      `;const a=this.createElement("td","winners__name");a.textContent=e.name.toString();const s=this.createElement("td","winners__wins");s.textContent=e.wins.toString();const o=this.createElement("td","winners__time");o.textContent=e.time.toString(),n.append(r),n.append(i),n.append(a),n.append(s),n.append(o)}));const p=this.createElement("div","pages-controls pages-controls_winners");this.prevPageBtn.innerText="PREV",1===this.currentPage?this.prevPageBtn.disabled=!0:this.prevPageBtn.disabled=!1,p.append(this.prevPageBtn);const m=this.createElement("span","pages-controls__current-index");m.innerText=this.currentPage.toString(),p.append(m),this.nextPageBtn.innerText="NEXT";const g=Math.ceil(e.count/n);return this.currentPage===g||g<2?this.nextPageBtn.disabled=!0:this.nextPageBtn.disabled=!1,p.append(this.nextPageBtn),s.append(p),this.main.append(a.default.render()),this.main}sortWinners(e,t){let n;return"time-desc"===t&&(n=e.sort(((e,t)=>e.time-t.time))),"time-asc"===t&&(n=e.sort(((e,t)=>t.time-e.time))),"wins-desc"===t&&(n=e.sort(((e,t)=>e.wins-t.wins))),"wins-asc"===t&&(n=e.sort(((e,t)=>t.wins-e.wins))),n||e}}t.default=s},587:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(758));class a extends i.default{constructor(e,t){super(),this.container=document.createElement(e),this.container.className=t}render(){return this.container}}t.default=a},758:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{createElement(e,t){const n=document.createElement(e);return n.className=t,n}setMultipleAttributes(e,t){Object.keys(t).forEach((n=>{e.setAttribute(n,t[n])}))}}},175:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(758));class a extends i.default{constructor(e){super(),this.main=document.createElement("main"),this.main.id=e}createHeaderTitle(e){const t=document.createElement("h2");return t.innerText=e,t}render(e,t,n){return this.main}}a.TextObject={},t.default=a},604:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes=t.PageIds=void 0,(r=t.PageIds||(t.PageIds={})).GaragePage="garage",r.WinnersPage="winners",(n=t.ErrorTypes||(t.ErrorTypes={}))[n.Error_404=404]="Error_404"},135:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static generateColor(){let e="#";for(let t=0;t<6;t+=1)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e}static generateName(){return`${["Tesla","Lamborghini","Lada","Porshe","BMW","Nissan","Hyundai","Audi","Subaru","Jaguar"][Math.floor(10*Math.random())]} ${["Model X","Urus","Priora","911","X5","Skyline","Accent","Q3","Impreza","F-Type"][Math.floor(10*Math.random())]}`}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,n(607)})();